<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kalan Computer Entertainment of America — Coming Soon</title>
  <meta name="description" content="Kalan Computer Entertainment of America — forging the future of play. Coming soon."/>
  <meta property="og:title" content="KCEA — Coming Soon"/>
  <meta property="og:description" content="Forging the future of play. Kalan Computer Entertainment of America is coming soon."/>
  <meta property="og:type" content="website"/>
  <meta name="theme-color" content="#0b0f1a"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Unbounded:wght@700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0f1a; /* deep space */
      --fg:#e6eefc; /* near-white */
      --muted:#90a4c3;
      --accent:#6cf0ff;
      --accent-2:#a57bff;
      --glass:rgba(255,255,255,.06);
      --glass-br:rgba(255,255,255,.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--fg); background:var(--bg);
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      overflow:hidden;
    }
    a{color:inherit}
    .scene{position:fixed; inset:0; display:grid; place-items:center; isolation:isolate;}
    /* Animated gradient nebula */
    .bg{position:absolute; inset:-20vmax; z-index:-3; filter:saturate(120%) contrast(105%);
      background:
        radial-gradient(60vmax 60vmax at 10% 20%, rgba(108,240,255,.20), transparent 60%),
        radial-gradient(50vmax 50vmax at 80% 10%, rgba(165,123,255,.20), transparent 60%),
        radial-gradient(60vmax 60vmax at 40% 90%, rgba(64,255,176,.15), transparent 60%),
        linear-gradient(180deg, #0b0f1a, #0b0f1a 40%, #0e1322 100%);
      animation: drift 20s ease-in-out infinite alternate;
    }
    @keyframes drift{from{transform:translate3d(-2%, -1%, 0) scale(1.02)} to{transform:translate3d(2%, 1%, 0) scale(1.05)}}
    /* Grain */
    .grain{position:absolute; inset:0; z-index:-2; pointer-events:none; mix-blend:overlay; opacity:.08; background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.75" numOctaves="2" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.6"/></svg>'); background-size:120px 120px; animation:grain 1.5s steps(2) infinite}
    @keyframes grain{to{transform:translate3d(0,0,0)} from{transform:translate3d(-1%,1%,0)}}
    /* Orb field */
    .orbs{position:absolute; inset:-12vmax; z-index:-2; overflow:hidden;}
    .orb{position:absolute; border-radius:50%; opacity:.38; filter:blur(32px); pointer-events:none; will-change:transform; mix-blend-mode:screen}
    .orb.light{background:radial-gradient(circle at 35% 35%, rgba(108,240,255,.70), transparent 60%)}
    .orb.violet{background:radial-gradient(circle at 65% 65%, rgba(165,123,255,.70), transparent 60%)}
    .orb.mint{background:radial-gradient(circle at 50% 50%, rgba(64,255,176,.55), transparent 60%)}
    .orb.sun{background:radial-gradient(circle at 40% 40%, rgba(255,200,80,.45), transparent 60%)}
    @keyframes sway{50%{transform:translate3d(var(--dx),var(--dy),0) scale(1.05)} 100%{transform:translate3d(0,0,0) scale(1)}}

    /* Card */
    .card{width:min(960px, 92vw); padding:clamp(20px, 3vw, 40px); border-radius:28px;
      background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      border:1px solid var(--glass-br); backdrop-filter: blur(16px) saturate(130%);
      box-shadow:0 20px 60px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
      transform:translateY(10px); opacity:0; animation:pop 900ms cubic-bezier(.2,.8,.2,1) .3s forwards;}
    @keyframes pop{to{opacity:1; transform:translateY(0)}}
    .badge{display:inline-flex; align-items:center; gap:.6ch; font-size:12px; text-transform:uppercase; letter-spacing:.14em; color:var(--muted); background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.1); padding:8px 12px; border-radius:999px}
    .pulse{display:inline-block; width:8px; height:8px; border-radius:50%; background:var(--accent); box-shadow:0 0 0 0 rgba(108,240,255,.45); animation:pulse 2s infinite}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(108,240,255,.45)}70%{box-shadow:0 0 0 14px rgba(108,240,255,0)}100%{box-shadow:0 0 0 0 rgba(108,240,255,0)}}
    .brand{display:flex; align-items:center; gap:16px; margin:18px 0 8px}
    .logo{--size:52px; width:var(--size); height:var(--size); display:grid; place-items:center;
      background:radial-gradient(120% 120% at 20% 20%, rgba(108,240,255,.5), rgba(165,123,255,.45) 60%, rgba(255,255,255,.12) 100%);
      border-radius:18px; border:1px solid rgba(255,255,255,.2); box-shadow:inset 0 1px 0 rgba(255,255,255,.3);}
    .logo svg{width:60%; height:60%}
    .title{font-family:Unbounded, Inter, system-ui, sans-serif; font-weight:800; line-height:1.05; font-size:clamp(28px, 5vw, 56px); letter-spacing:.02em}
    .subtitle{color:var(--muted); font-weight:400; font-size:clamp(14px, 1.6vw, 18px); margin:8px 0 20px}
    .cta{display:flex; gap:12px; flex-wrap:wrap; margin:24px 0 4px}
    .btn{--pad:14px; display:inline-flex; align-items:center; gap:.6ch; padding:var(--pad) clamp(16px, 2.2vw, 22px); border-radius:14px; border:1px solid rgba(255,255,255,.16); text-decoration:none; font-weight:600; letter-spacing:.01em; transition:transform .15s ease, border-color .2s ease, background .2s ease;}
    .btn.primary{background:linear-gradient(90deg, rgba(108,240,255,.25), rgba(165,123,255,.25));}
    .btn.disabled{opacity:.55; cursor:not-allowed; pointer-events:none;} 
    .btn:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.35)}
    .btn .icon{display:inline-grid; place-items:center; width:1.1em; height:1.1em}
    .btn.primary{background:linear-gradient(90deg, rgba(108,240,255,.25), rgba(165,123,255,.25));}
    .btn:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.35)}
    .btn .icon{display:inline-grid; place-items:center; width:1.1em; height:1.1em}

    form{display:flex; flex-wrap:wrap; gap:10px; margin-top:14px}
    input[type=email]{flex:1; min-width:220px; padding:14px 16px; background:rgba(8,12,22,.65); color:var(--fg); border:1px solid rgba(255,255,255,.12); border-radius:12px; outline:none;}
    input::placeholder{color:#7e8eac}
    button[type=submit]{padding:14px 18px; border-radius:12px; border:1px solid rgba(255,255,255,.18); color:var(--bg); background:linear-gradient(90deg, var(--accent), var(--accent-2)); font-weight:700; cursor:pointer;}

    footer{position:fixed; left:0; right:0; bottom:0; display:flex; align-items:center; justify-content:space-between; gap:16px; padding:10px 18px; color:#93a5c8; font-size:12px; background:linear-gradient( to top, rgba(0,0,0,.25), rgba(0,0,0,0) );}
    .social{display:flex; gap:10px}
    .social a{display:grid; place-items:center; width:34px; height:34px; border-radius:10px; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.03)}
    .sep{opacity:.25; margin:0 8px}

    /* audio credit layout */
    #audio-credit{ display:flex; align-items:center; gap:10px; color:#93a5c8; font-size:12px; }
    #audio-credit .icons{display:flex; gap:8px}
    #audio-credit a.icon{ display:inline-grid; place-items:center; width:28px; height:28px; border-radius:8px; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.03); color:inherit; text-decoration:none; }
    #audio-credit svg{width:14px; height:14px}

    @media (max-width:520px){.badge{font-size:11px} .brand{gap:12px} .logo{--size:46px}}
  </style>
</head>
<body>
  <div class="scene" role="img" aria-label="Abstract cosmic gradient background with floating light orbs">
    <div class="bg" aria-hidden="true"></div>
    <div class="grain" aria-hidden="true"></div>
    <div id="orbs" class="orbs" aria-hidden="true"></div>

    <main class="card" aria-live="polite">
      <div class="badge"><span class="pulse" aria-hidden="true"></span> Coming Soon</div>

      <header class="brand">
        <div class="logo" aria-hidden="true">
          <!-- KCEA Monogram -->
          <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M10 42V22l10 10-10 10Z" fill="white" opacity="0.85"/>
            <path d="M30 18h8v28h-8z" fill="white" opacity="0.8"/>
            <path d="M52 22H40v6h8v8h-8v6h12V22Z" fill="white" opacity="0.85"/>
          </svg>
        </div>
        <div>
          <div class="title">Kalan Computer Entertainment of America</div>
          <p class="subtitle">Forging the future of play — premium hardware, fearless software, zero compromise.</p>
        </div>
      </header>

      <section>
        <div class="cta" aria-label="Primary actions">
          <!-- Single Projects button -->
          <a id="projects-btn" class="btn primary" href="#" role="button">
  <span class="icon" aria-hidden="true">
    <svg viewBox="0 0 24 24" fill="none" 
         stroke="currentColor" stroke-width="2" 
         stroke-linecap="round" stroke-linejoin="round">
      <rect x="3" y="3" width="7" height="4"/>
      <rect x="14" y="3" width="7" height="4"/>
      <rect x="9" y="9" width="7" height="4"/>
      <rect x="3" y="15" width="7" height="4"/>
      <rect x="14" y="15" width="7" height="4"/>
    </svg>
  </span>
  Projects
</a>
        </div>

        <form id="updates" aria-label="Email capture">
          <input id="email" name="email" type="email" inputmode="email" placeholder="you@company.com" aria-label="Your email" required />
          <button type="submit" aria-label="Notify me at launch">Notify Me</button>
          <div class="legal">We’ll only email you about the launch. No spam. Unsubscribe anytime.</div>
        </form>
      </section>
    </main>
  </div>

  <footer>
    <div>
      © <span id="year"></span> Kalan Group, Inc. <span class="sep">•</span> KCEA
    </div>
    <div id="audio-credit"></div>
    <nav class="social" aria-label="Social links">
      <a href="#" aria-label="X / Twitter"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M22 4L12 14"></path><path d="M22 4l-7 16-3-7-7-3 16-6z"></path></svg></a>
      <a href="#" aria-label="YouTube"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.2 3.5 12 3.5 12 3.5s-7.2 0-9.4.6A3 3 0 0 0 .5 6.2 31.6 31.6 0 0 0 0 12a31.6 31.6 0 0 0 .5 5.8 3 3 0 0 0 2.1 2.1c2.2.6 9.4.6 9.4.6s7.2 0 9.4-.6a3 3 0 0 0 2.1-2.1c.4-1.8.5-3.8.5-5.8s0-4-.5-5.8zM9.7 15.5V8.5l6 3.5-6 3.5z"/></svg></a>
      <a href="#" aria-label="Discord"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M20 4a17.3 17.3 0 0 0-4-.9l-.4.8a16 16 0 0 1 3.8 1.4A12.6 12.6 0 0 0 16.7 4a16.9 16.9 0 0 0-9.4 0A12.6 12.6 0 0 0 4.6 5.3 16 16 0 0 1 8.4 4l-.4-.9A17.3 17.3 0 0 0 4 4C1.8 7.3 1.1 10.5 1.3 13.7c2.5 1.9 4.9 2.9 7.2 3l.9-1.5c-.5-.2-1-.5-1.5-.8.3.1.7.3 1.1.4.4.2.9.3 1.3.3.9.1 1.7.1 2.6 0 .4 0 .9-.1 1.3-.3.4-.1.7-.3 1.1-.4-.5.3-1 .6-1.5.8l.9 1.5c2.3-.1 4.7-1.1 7.2-3 .3-3.2-.5-6.4-2.7-9.7z"/></svg></a>
    </nav>
  </footer>

  <!-- Background music (no controls) -->
  <audio id="bgm"
         src="/audio/landBGM.mp3"
         preload="auto"
         autoplay
         loop
         playsinline
         style="display:none"></audio>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Email capture
    const form = document.querySelector('form');
    const input = document.getElementById('email');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const email = input.value.trim();
      if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
        input.setCustomValidity('Enter a valid email');
        input.reportValidity();
        return;
      }
      try{localStorage.setItem('kcea_waitlist_email', email)}catch(_){/* ignore */}
      window.location.href = `mailto:updateskcea@gmail.com?subject=KCEA%20Launch%20Updates&body=Please%20add%20${encodeURIComponent(email)}%20to%20the%20KCEA%20launch%20list.`;
    });

    // ORB FIELD
    (function(){
      const ORB_COUNT = 16; // turn up the heat
      const colors = ['light','violet','mint','sun'];
      const root = document.getElementById('orbs');
      if(!root) return;
      const rand = (min,max)=>Math.random()*(max-min)+min;
      const orbs = [];
      function makeOrb(){
        const el = document.createElement('div');
        el.className = `orb ${colors[Math.floor(Math.random()*colors.length)]}`;
        const size = rand(16, 38); // vmin
        el.style.width = size + 'vmin';
        el.style.height = size + 'vmin';
        el.style.animation = `sway ${rand(8,16).toFixed(2)}s ease-in-out infinite alternate`;
        el.style.setProperty('--dx', rand(-22,22)+'px');
        el.style.setProperty('--dy', rand(-22,22)+'px');
        root.appendChild(el);
        const baseX = rand(-5, 100); // vw
        const baseY = rand(-5, 100); // vh
        const ampX = rand(10, 30);    // vw
        const ampY = rand(10, 30);    // vh
        const speed = rand(0.05, 0.16);
        const phase = rand(0, Math.PI*2);
        return {el, baseX, baseY, ampX, ampY, speed, phase};
      }
      for(let i=0;i<ORB_COUNT;i++) orbs.push(makeOrb());
      let t0 = performance.now();
      function frame(){
        const t = (performance.now()-t0)/1000;
        for(const o of orbs){
          const x = o.baseX + Math.sin(t*o.speed + o.phase) * o.ampX;
          const y = o.baseY + Math.cos(t*o.speed*0.9 + o.phase*1.3) * o.ampY;
          o.el.style.transform = `translate(${x}vw, ${y}vh)`;
        }
        requestAnimationFrame(frame);
      }
      frame();
    })();

    // Background Music (with desktop autoplay fallback)
    (() => {
      const audio = document.getElementById('bgm');
      if (!audio) return;
      audio.volume = 0.45;

      audio.play().catch(() => {
        const start = () => {
          audio.play()
            .then(() => console.log('[KCEA] bgm playing'))
            .catch(e => console.error('[KCEA] play failed:', e));
        };
        ['pointerdown','mousedown','touchstart','keydown'].forEach(ev => {
          document.documentElement.addEventListener(ev, start, { once: true, capture: true });
        });
      });
    })();

    // Load audio credit text (comp/mail/web)
    (async () => {
      const el = document.getElementById('audio-credit');
      if (!el) return;
      const parseKV = (txt) => {
        const out = {};
        txt.split(/\r?\n/).forEach(line => {
          const m = line.split(';');
          if (m.length < 2) return;
          const key = m[0].trim().toLowerCase();
          const val = m.slice(1).join(';').trim();
          if (val) out[key] = val;
        });
        return out;
      };
      const normalizeWeb = (u) => /^https?:\/\//i.test(u) ? u : `https://${u}`;
      try {
        const res = await fetch('/audio/credit.txt', { cache: 'no-store' });
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const kv = parseKV(await res.text());
        const comp = kv.comp || '';
        const mail = kv.mail || '';
        const web  = kv.web  || '';
        el.textContent = '';
        const label = document.createElement('span');
        label.textContent = comp ? `Audio by ${comp}` : 'Audio credit';
        el.appendChild(label);
        const icons = document.createElement('span');
        icons.className = 'icons';
        if (mail) {
          const a = document.createElement('a');
          a.className = 'icon';
          a.href = `mailto:${mail}`;
          a.title = `Email ${comp || mail}`;
          a.setAttribute('aria-label', `Email ${comp || mail}`);
          a.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16v16H4z"/><path d="m22 6-10 7L2 6"/></svg>`;
          icons.appendChild(a);
        }
        if (web) {
          const a = document.createElement('a');
          a.className = 'icon';
          a.href = normalizeWeb(web);
          a.target = '_blank';
          a.rel = 'noopener';
          a.title = comp || 'Website';
          a.setAttribute('aria-label', comp || 'Website');
          a.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10"/></svg>`;
          icons.appendChild(a);
        }
        if (icons.children.length) el.appendChild(icons);
      } catch (err) {
        console.warn('credit.txt not loaded:', err);
      }
    })();
  
    // Optional: future auto-link for Projects from a tiny config file
    (async () => {
      const btn = document.getElementById('projects-btn');
      if (!btn) return;
      try {
        // When you're ready, create /data/projects_link.txt containing a full URL or relative path
        const res = await fetch('/data/projects_link.txt', { cache: 'no-store' });
        if (!res.ok) return; // leave disabled if file missing
        const url = (await res.text()).trim();
        if (!url) return;
        btn.href = url.startsWith('http') ? url : url; // accept absolute or relative
        btn.removeAttribute('aria-disabled');
        btn.classList.remove('disabled');
        // If you want new tab behavior later: btn.target = '_blank'; btn.rel = 'noopener';
      } catch (_) { /* keep disabled */ }
    })();
  </script>
</body>
</html>
