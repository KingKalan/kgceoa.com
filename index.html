<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kalan Computer Entertainment of America</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background: radial-gradient(circle at center, #0f0f1a, #000);
      overflow: hidden;
      font-family: Arial, sans-serif;
      color: #e6eefc;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    h1 {
      font-size: 3em;
      margin-bottom: 0.3em;
    }
    p {
      font-size: 1.2em;
      margin-bottom: 1.5em;
    }
    form input[type="email"] {
      padding: 10px;
      font-size: 1em;
      border: none;
      border-radius: 4px;
      width: 220px;
      margin-right: 10px;
    }
    form button {
      padding: 10px 18px;
      font-size: 1em;
      border: none;
      border-radius: 4px;
      background: #3a4fff;
      color: white;
      cursor: pointer;
    }
    footer {
      position: absolute;
      bottom: 10px;
      font-size: 0.9em;
      opacity: 0.8;
    }
    #orbs {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }
    .orb {
      position: absolute;
      border-radius: 50%;
      opacity: 0.4;
      background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
    }
  </style>
</head>
<body>
  <div id="orbs"></div>
  <h1>Coming Soon</h1>
  <p>Kalan Computer Entertainment of America</p>
  <form>
    <input type="email" id="email" placeholder="Enter your email" required>
    <button type="submit">Notify Me</button>
  </form>
  <footer>
    <span>&copy; <span id="year"></span> KCEA. All rights reserved.</span>
  </footer>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Lightweight email capture: opens mail client
    const form = document.querySelector('form');
    const input = document.getElementById('email');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const email = input.value.trim();
      if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
        input.setCustomValidity('Enter a valid email');
        input.reportValidity();
        return;
      }
      window.location.href = `mailto:updateskcea@gmail.com?subject=KCEA%20Launch%20Updates&body=Please%20add%20${encodeURIComponent(email)}%20to%20the%20KCEA%20launch%20list.`;
    });

    // Animated Orbs
    (function(){
      const ORB_COUNT = 16;
      const root = document.getElementById('orbs');
      const rand = (min,max)=>Math.random()*(max-min)+min;
      const orbs = [];
      function makeOrb(){
        const el = document.createElement('div');
        el.className = 'orb';
        const size = rand(16, 38);
        el.style.width = size + 'vmin';
        el.style.height = size + 'vmin';
        root.appendChild(el);
        const baseX = rand(-5, 100);
        const baseY = rand(-5, 100);
        const ampX = rand(10, 30);
        const ampY = rand(10, 30);
        const speed = rand(0.05, 0.16);
        const phase = rand(0, Math.PI*2);
        return {el, baseX, baseY, ampX, ampY, speed, phase};
      }
      for(let i=0;i<ORB_COUNT;i++) orbs.push(makeOrb());
      let t0 = performance.now();
      function frame(){
        const t = (performance.now()-t0)/1000;
        for(const o of orbs){
          const x = o.baseX + Math.sin(t*o.speed + o.phase) * o.ampX;
          const y = o.baseY + Math.cos(t*o.speed*0.9 + o.phase*1.3) * o.ampY;
          o.el.style.transform = `translate(${x}vw, ${y}vh)`;
        }
        requestAnimationFrame(frame);
      }
      frame();
    })();

    // Direct user-action audio start (no controls, loops forever)
    (function(){
      const SRC = "/audio/surpass%20your%20limits%21.mp3";
      let a;
      function start(){
        if(a) return;
        a = new Audio(SRC);
        a.loop = true;
        a.volume = 0.45;
        a.play().catch(err=>console.error("audio play failed:", err));
        window.__kceaAudio = a;
      }
      ["pointerdown","keydown","touchstart"].forEach(ev =>
        document.addEventListener(ev, start, { once:true, capture:true })
      );
    })();
  </script>
</body>
</html>
